[{"categories":null,"content":"整点物理。 题目来自费曼物理学讲义习题集 题目1.7 在你面前有大量铁球——直径全部是$d$，以及一个容器——体积是$V$。在任意维度上，容器的长度都远远大于铁球的直径，问把铁球放到容器中，最多可以放进多少个？ 解答 看起来像是平面密铺问题。 密铺的话，任意两个球肯定是相切的。所以只需要考虑球与球之间间隙浪费了多少空间就可以了。 平面上，一个圆最多和6个圆相邻，这是因为任意三个两两相接的圆的圆心构成了等边三角形。 空间中，四个互相相切的球，圆心连线，自然是等边四面体，边长为d。 现在问题是，这个四棱锥里，空间大小究竟有多大。 就是要看看这个空间体积有多大，半径是$r$，且$\\angle AOB=\\angle BOC=\\angle AOC = 60 ^\\circ$ 几何全还给老师了。查了一下stackoverflow， 这个体积可以这样算：先求出球面三角形面积，再用面积除以总面积，既可以得到体积占比。 算表面积这个事情也挺头疼，根查了一下可以靠L’Huilier’s Theorem 求解。 可以知道$S_{ABC}=R^2E$ 其中$E$是spherical excess 这个球面三角形边长显然是$\\frac{\\pi}{3} r$ 代入一下公式就知道$\\tan\\tfrac{1}{4}E = (\\tan\\tfrac{\\pi}{12})^{3/2}$ 所以$E = 4 \\tan^{-1}(\\tan^{3/2}(\\pi/12)) = 0.5512855984325308079421441514644592429338506286901786961917004086$ 那么假设$r=1$, 则球面三角形面积就是$E$ 球面面积是$4\\pi r^2$，所以体积就是$4\\pi r^3/3 \\times \\frac{E}{4\\pi r^2}=E/3$ 所以这个球锥体体积是$0.18376186614$，总共四个角，乘以4体积是0.73504746456 四棱锥体积也好办，底面积是$\\sqrt{3}$ 高是$2\\sqrt{6}/3$,所以体积是$2\\sqrt{2}/3=0.94280904158$ 则球锥占体积的0.73504746456/0.94280904158=0.77963557002 也就是说，如果空间完全密铺，任意四个距离近的球都紧密到两两相切（事实上不可能），空间利用率就78% 所以能放进去最多$0.78V/ \\frac{4\\pi r^3}{3}$个球 当然我这个估计非常的粗糙。这个问题引申一下就是开普勒猜想，在1998年才得到完全的证明。高斯证明了空间利用率最高就是$\\frac{\\pi}{3\\sqrt 2} \\approx 0.74048$ 极限应该是$\\frac{\\pi}{3\\sqrt 2} V/ \\frac{4\\pi r^3}{3}$个球。 这个问题和物理学的联系，为什么出现在物理习题中：猜测和晶体学有关，晶格之类的把。 这个问题还挺有意思的，牛顿在1694讨论研究过一个球能否和13个不相交等直径球同时相切，直到1953年才有人数学证明13个球不可能。最多12个球相切。 ","date":"2022-06-13","objectID":"/feynman-exercise/:0:0","tags":null,"title":"Feynman Exercise","uri":"/feynman-exercise/"},{"categories":null,"content":"回忆了一下自己学计算机的动机，果然还是想做游戏。写引擎看起来也够有挑战性够有意思。 游戏引擎离不开图形学API，现有的api我都没什么了解。 于是决定今天起开始系统学习。用作笔记，如果学习轨迹能帮助后来者，也是好的。 ","date":"2020-10-31","objectID":"/directx-from-0/:0:0","tags":["Computer Graphics","DirectX12"],"title":"从0开始学Direct X12","uri":"/directx-from-0/"},{"categories":null,"content":"为什么要学习DirectX 12？ DirectX12, OpenGL, Vulkan, Metal, WebGL都是现在常用的low level图形API (Low level Graphics APIs) 其中OpenGL历史较久，API较旧，与现代GPU架构提供的接口有差距，比如它使用了一个全局的状态机（single global state machine）来表示状态。DirectX 12相比OpenGL更接近现代GPU架构。而且DirectX12、Vulkan和Metal。不过目前的Android机器大部分只兼容OpenGL ES，iOS则是Metal为主 Vulkan 目前来看，细节复杂，对于我这种初学者来说学习难度可能很大，暂且搁置。 加上DX12我能找到较多的资料，加上手上的计算平台也是windows的，所以最后就选择 DX12 作为上手了。 从理性来看，图形API该学都是要学的， ","date":"2020-10-31","objectID":"/directx-from-0/:1:0","tags":["Computer Graphics","DirectX12"],"title":"从0开始学Direct X12","uri":"/directx-from-0/"},{"categories":null,"content":"入门学习计划 计划先过一遍https://github.com/microsoft/DirectX-Graphics-Samples 下的sample作为实践。 结合Frank Luna 的 Introduction to 3D Game Programming with DirectX 12 作为教材 ","date":"2020-10-31","objectID":"/directx-from-0/:2:0","tags":["Computer Graphics","DirectX12"],"title":"从0开始学Direct X12","uri":"/directx-from-0/"},{"categories":null,"content":"学习进度 书前三章概括： 线性代数复习+DirectX接口科普 一些备忘： XMVECTOR 是DirectX12提供的vector类型，由4个float组成，本质是__m128类型。 XM_CALLCONV 是DirectX用来帮助指定编译器用什么function call convention的修饰符（例如__fastcall和__vectorcall)。__fastcall在调用函数传参时，32位windows会在pass __m128时，把前三个__m128类型的参数给直接传给SSE/SSE2的寄存器，剩下的参数压倒栈里，64位会直接都压进栈。而__vectorcall会把前6个__m128参数直接传给SSE/SSE2寄存器。传参给寄存器显然比直接压栈快。 来源：https://docs.microsoft.com/en-us/windows/win32/dxmath/pg-xnamath-internals 注意XMVECTOR作为参数时，为了性能，需要让参数类型按照一定顺序排列： FXMVECTOR 前三个参数类型 GXMVECTOR 第四个 HXMVECTOR 第五个第六个 CXMVECTOR 之后更多 为什么是这样安排，暂时不了解，以后再来探索吧 叉积（cross product）的结果一般是右手系（right hand rule）的，就是如果你想计算$a\\times b$，那么拿出右手食指对准a的方向，中指对准b的方向，结果会指向大拇指。（我自己老是忘是左手还是右手，2d是顺时针还是逆时针） 3d向量加一个维度变成齐次坐标，相关的矩阵变换（例如scale，translate，project）要会推导。 值得注意的是DirectX使用row vector 来做矩阵乘法，这个似乎和OpenGL是反着的，所以如果按照column vector来写变换矩阵的话，得到的会是目标matrix的转置： $$\\left[\\begin{array}{llll} x^{\\prime} \u0026 y^{\\prime} \u0026 z^{\\prime} \u0026 w^{\\prime} \\end{array}\\right]=\\left[\\begin{array}{llll} x \u0026 y \u0026 z \u0026 w \\end{array}\\right]\\left[\\begin{array}{llll} m 11 \u0026 m 12 \u0026 m 13 \u0026 m 14 \\\\ m 21 \u0026 m 22 \u0026 m 23 \u0026 m 24 \\\\ m 31 \u0026 m 32 \u0026 m 33 \u0026 m 34 \\\\ m 41 \u0026 m 42 \u0026 m 43 \u0026 m 44 \\end{array}\\right]$$ 书第四章： 未完待续。。。 暂时鸽掉 ","date":"2020-10-31","objectID":"/directx-from-0/:3:0","tags":["Computer Graphics","DirectX12"],"title":"从0开始学Direct X12","uri":"/directx-from-0/"},{"categories":null,"content":"写一写最近学到的东西和笔记 ","date":"2019-08-02","objectID":"/about/:0:0","tags":null,"title":"关于这个博客","uri":"/about/"}]